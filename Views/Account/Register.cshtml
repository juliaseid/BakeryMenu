@{
  Layout = "_Layout";
}

@using SweetCakes.ViewModels

@model RegisterViewModel

<h4>Register a new user</h4>

@if (User.Identity.IsAuthenticated)
  {
      <p>Hello @User.Identity.Name! Please log out before creating a new user account!</p>
      @using (Html.BeginForm("LogOff", "Account"))
      {
          <input type="submit" class="btn btn-default" value="Log out" />
      }
  }
  else
  {
    @using (Html.BeginForm("Register", "Account", FormMethod.Post))
    {
        @Html.LabelFor(user => user.UserName)
        @Html.TextBoxFor(user => user.UserName)
        
        @Html.LabelFor(user => user.Email)
        @Html.TextBoxFor(user=> user.Email)

        @Html.LabelFor(user=> user.Password)
        @Html.PasswordFor(user=> user.Password)

        @Html.LabelFor(user=> user.ConfirmPassword)
        @Html.PasswordFor(user=> user.ConfirmPassword)

        <input type="submit" value="Register" />
    }
  }